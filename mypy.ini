[mypy]
python_version = 3.9
no_implicit_optional = True
strict_optional = True
strict_equality = True
ignore_errors = True
warn_unused_ignores=True
show_error_codes=True
allow_redefinition=True
plugins = trio_typing.plugin

[mypy-parsec._parsec_pyi.*]
ignore_errors = False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.event_bus]
ignore_errors = False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.core.logged_core]
ignore_errors = False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.core.fs.*]
ignore_errors = False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.core.pki.*]
ignore_errors = False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.core.mountpoint.*]
ignore_errors = False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

# Fuse has no type hints
[mypy-fuse]
ignore_missing_imports = True

# winfsppy has partial type support
[mypy-winfspy.*]
ignore_missing_imports = True

# marshmallow has partial type support
[mypy-marshmallow.*]
ignore_missing_imports = True

# On non-windows platform a lot of types from winfspy will be resolved as `Any`
[mypy-parsec.core.mountpoint.winfsp_operations]
disallow_any_decorated=False
disallow_any_unimported=False

[mypy-parsec.core.mountpoint.winfsp_runner]
disallow_any_decorated=False
disallow_any_unimported=False

[mypy-parsec.core.fs.workspacefs.versioning_helpers]
disallow_untyped_defs=False

[mypy-parsec.core.gui.central_widget]
ignore_errors = False
disallow_untyped_defs=True
disallow_any_decorated=True
disallow_any_generics=True
# Disabled in order to prevent failure when UI files are not generated
disallow_subclassing_any=False

[mypy-parsec.core.gui.main_window]
ignore_errors = False
disallow_any_unimported=True
disallow_untyped_defs=True
disallow_any_decorated=True
disallow_any_generics=True
# Disabled in order to prevent failure when UI files are not generated
disallow_subclassing_any=False

[mypy-parsec.api.*]
ignore_errors = False
disallow_any_generics = True
disallow_subclassing_any = True
disallow_untyped_calls = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = False
disallow_untyped_decorators = False
no_implicit_optional = True
no_implicit_reexport = False
strict_equality = True
disallow_any_unimported = True

[mypy-parsec.backend.*]
ignore_errors=False
disallow_untyped_defs=False
disallow_any_unimported=False
disallow_any_decorated=False
disallow_any_generics=False
disallow_subclassing_any=False

[mypy-parsec.backend.asgi.*]
ignore_errors=False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.backend.cli.*]
ignore_errors=False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.backend.memory.*]
ignore_errors=False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

[mypy-parsec.backend.postgresql.*]
ignore_errors=False
disallow_untyped_defs=True
disallow_any_unimported=True
disallow_any_decorated=True
disallow_any_generics=True
disallow_subclassing_any=True

# 3rd party libraries with missing typing

[mypy-triopg.*]
ignore_missing_imports = True

[mypy-pbr.*]
ignore_missing_imports = True

[mypy-swiftclient.*]
ignore_missing_imports = True

[mypy-boto3.*]
ignore_missing_imports = True

[mypy-botocore.*]
ignore_missing_imports = True

[mypy-asyncpg.*]
ignore_missing_imports = True

[mypy-oscrypto.*]
ignore_missing_imports = True
