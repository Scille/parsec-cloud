from typing import Any, List, Optional, Tuple
from parsec._parsec_pyi.ids import BlockID, RealmID, SequesterServiceID, UserID, VlobID, DeviceID
from parsec._parsec_pyi.time import DateTime
from parsec.api.protocol.types import UserProfile

class AuthenticatedAnyCmdReq:
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> Any: ...

class InvitedAnyCmdReq:
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> Any: ...

class RepWithReason:
    def __init__(self, reason: Optional[str]) -> None: ...
    @property
    def reason(self) -> Optional[str]: ...

class UnknownStatus(RepWithReason):
    @property
    def status(self) -> str: ...

# Block

class BlockCreateReq:
    def __init__(self, block_id: BlockID, realm_id: RealmID, block: bytes) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: BlockCreateReq) -> bool: ...
    def __ne__(self, other: BlockCreateReq) -> bool: ...
    @property
    def block_id(self) -> BlockID: ...
    @property
    def realm_id(self) -> RealmID: ...
    @property
    def block(self) -> bytes: ...
    def dump(self) -> bytes: ...

class BlockCreateRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: BlockCreateRep) -> bool: ...
    def __ne__(self, other: BlockCreateRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> BlockCreateRep: ...

class BlockCreateRepOk(BlockCreateRep): ...
class BlockCreateRepAlreadyExists(BlockCreateRep): ...
class BlockCreateRepNotFound(BlockCreateRep): ...
class BlockCreateRepTimeout(BlockCreateRep): ...
class BlockCreateRepNotAllowed(BlockCreateRep): ...
class BlockCreateRepInMaintenance(BlockCreateRep): ...
class BlockCreateRepUnknownStatus(UnknownStatus, BlockCreateRep): ...

class BlockReadReq:
    def __init__(self, block_id: BlockID) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: BlockReadReq) -> bool: ...
    def __ne__(self, other: BlockReadReq) -> bool: ...
    @property
    def block_id(self) -> BlockID: ...
    def dump(self) -> bytes: ...

class BlockReadRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: BlockReadRep) -> bool: ...
    def __ne__(self, other: BlockReadRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> BlockReadRep: ...

class BlockReadRepOk(BlockReadRep):
    def __init__(self, block: bytes) -> None: ...
    @property
    def block(self) -> bytes: ...

class BlockReadRepNotFound(BlockReadRep): ...
class BlockReadRepTimeout(BlockReadRep): ...
class BlockReadRepNotAllowed(BlockReadRep): ...
class BlockReadRepInMaintenance(BlockReadRep): ...
class BlockReadRepUnknownStatus(UnknownStatus, BlockReadRep): ...

# Message

class MessageGetReq:
    def __init__(self, offset: int) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: MessageGetReq) -> bool: ...
    def __ne__(self, other: MessageGetReq) -> bool: ...
    @property
    def offset(self) -> int: ...
    def dump(self) -> bytes: ...

class MessageGetRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: MessageGetRep) -> bool: ...
    def __ne__(self, other: MessageGetRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> MessageGetRep: ...

class MessageGetRepOk(MessageGetRep):
    def __init__(self, messages: List[Message]) -> None: ...
    @property
    def messages(self) -> Tuple[Message]: ...

class MessageGetRepUnknownStatus(UnknownStatus, MessageGetRep): ...

class Message:
    def __init__(self, count: int, sender: DeviceID, timestamp: DateTime, body: bytes) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: Message) -> bool: ...
    def __ne__(self, other: Message) -> bool: ...
    @property
    def count(self) -> int: ...
    @property
    def sender(self) -> DeviceID: ...
    @property
    def timestamp(self) -> DateTime: ...
    @property
    def body(self) -> bytes: ...

# Organization

class OrganizationStatsReq:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: OrganizationStatsReq) -> bool: ...
    def __ne__(self, other: OrganizationStatsReq) -> bool: ...
    def dump(self) -> bytes: ...

class OrganizationStatsRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: OrganizationStatsRep) -> bool: ...
    def __ne__(self, other: OrganizationStatsRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> OrganizationStatsRep: ...

class OrganizationStatsRepOk(OrganizationStatsRep):
    def __init__(
        self,
        data_size: int,
        metadata_size: int,
        realms: int,
        users: int,
        active_users: int,
        users_per_profile_detail: List[UsersPerProfileDetailItem],
    ) -> None: ...
    @property
    def data_size(self) -> int: ...
    @property
    def metadata_size(self) -> int: ...
    @property
    def realms(self) -> int: ...
    @property
    def users(self) -> int: ...
    @property
    def active_users(self) -> int: ...
    @property
    def users_per_profile_detail(self) -> List[UsersPerProfileDetailItem]: ...

class OrganizationStatsRepNotAllowed(RepWithReason, OrganizationStatsRep): ...
class OrganizationStatsRepNotFound(OrganizationStatsRep): ...
class OrganizationStatsRepUnknownStatus(UnknownStatus, OrganizationStatsRep): ...

class OrganizationConfigReq:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: OrganizationConfigReq) -> bool: ...
    def __ne__(self, other: OrganizationConfigReq) -> bool: ...
    def dump(self) -> bytes: ...

class OrganizationConfigRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: OrganizationConfigRep) -> bool: ...
    def __ne__(self, other: OrganizationConfigRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> OrganizationConfigRep: ...

class OrganizationConfigRepOk(OrganizationConfigRep):
    def __init__(
        self,
        user_profile_outsider_allowed: bool,
        active_users_limit: Optional[int],
        sequester_authority_certificate: Optional[bytes],
        sequester_services_certificates: Optional[List[bytes]],
    ) -> None: ...
    @property
    def user_profile_outsider_allowed(self) -> bool: ...
    @property
    def active_users_limit(self) -> Optional[int]: ...
    @property
    def sequester_authority_certificate(self) -> Optional[bytes]: ...
    @property
    def sequester_services_certificates(self) -> Optional[List[bytes]]: ...

class OrganizationConfigRepNotFound(OrganizationConfigRep): ...
class OrganizationConfigRepUnknownStatus(UnknownStatus, OrganizationConfigRep): ...

class UsersPerProfileDetailItem:
    def __init__(self, profile: UserProfile, active: int, revoked: int) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: UsersPerProfileDetailItem) -> bool: ...
    def __ne__(self, other: UsersPerProfileDetailItem) -> bool: ...
    @property
    def profile(self) -> UserProfile: ...
    @property
    def active(self) -> int: ...
    @property
    def revoked(self) -> int: ...

# Realm

class RealmCreateReq:
    def __init__(self, role_certificate: bytes) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmCreateReq) -> bool: ...
    def __ne__(self, other: RealmCreateReq) -> bool: ...
    @property
    def role_certificate(self) -> bytes: ...
    def dump(self) -> bytes: ...

class RealmCreateRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmCreateRep) -> bool: ...
    def __ne__(self, other: RealmCreateRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> RealmCreateRep: ...

class RealmCreateRepBadTimestamp(RepWithReason, RealmCreateRep):
    def __init__(
        self,
        reason: Optional[str],
        ballpark_client_early_offset: float,
        ballpark_client_late_offset: float,
        backend_timestamp: DateTime,
        client_timestamp: DateTime,
    ) -> None: ...
    @property
    def ballpark_client_early_offset(self) -> float: ...
    @property
    def ballpark_client_late_offset(self) -> float: ...
    @property
    def backend_timestamp(self) -> DateTime: ...
    @property
    def client_timestamp(self) -> DateTime: ...

class RealmCreateRepOk(RealmCreateRep): ...
class RealmCreateRepInvalidCertification(RepWithReason, RealmCreateRep): ...
class RealmCreateRepInvalidData(RepWithReason, RealmCreateRep): ...
class RealmCreateRepNotFound(RepWithReason, RealmCreateRep): ...
class RealmCreateRepAlreadyExists(RealmCreateRep): ...
class RealmCreateRepUnknownStatus(UnknownStatus, RealmCreateRep): ...

class RealmStatusReq:
    def __init__(self, realm_id: RealmID) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmStatusReq) -> bool: ...
    def __ne__(self, other: RealmStatusReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    def dump(self) -> bytes: ...

class RealmStatusRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmStatusRep) -> bool: ...
    def __ne__(self, other: RealmStatusRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> RealmStatusRep: ...

class RealmStatusRepOk(RealmStatusRep):
    def __init__(
        self,
        in_maintenance: bool,
        maintenance_type: Optional[MaintenanceType],
        maintenance_started_on: Optional[DateTime],
        maintenance_started_by: Optional[DeviceID],
        encryption_revision: int,
    ) -> None: ...
    @property
    def in_maintenance(self) -> bool: ...
    @property
    def maintenance_type(self) -> Optional[MaintenanceType]: ...
    @property
    def maintenance_started_on(self) -> Optional[DateTime]: ...
    @property
    def maintenance_started_by(self) -> Optional[DeviceID]: ...
    @property
    def encryption_revision(self) -> int: ...

class RealmStatusRepNotAllowed(RealmStatusRep): ...
class RealmStatusRepNotFound(RepWithReason, RealmStatusRep): ...
class RealmStatusRepUnknownStatus(UnknownStatus, RealmStatusRep): ...

class RealmStatsReq:
    def __init__(self, realm_id: RealmID) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmStatsReq) -> bool: ...
    def __ne__(self, other: RealmStatsReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    def dump(self) -> bytes: ...

class RealmStatsRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmStatsRep) -> bool: ...
    def __ne__(self, other: RealmStatsRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> RealmStatsRep: ...

class RealmStatsRepOk(RealmStatsRep):
    def __init__(self, blocks_size: int, vlobs_size: int) -> None: ...
    @property
    def blocks_size(self) -> int: ...
    @property
    def vlobs_size(self) -> int: ...

class RealmStatsRepNotAllowed(RealmStatsRep): ...
class RealmStatsRepNotFound(RepWithReason, RealmStatsRep): ...
class RealmStatsRepUnknownStatus(UnknownStatus, RealmStatsRep): ...

class RealmGetRoleCertificatesReq:
    def __init__(self, realm_id: RealmID) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmGetRoleCertificatesReq) -> bool: ...
    def __ne__(self, other: RealmGetRoleCertificatesReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    def dump(self) -> bytes: ...

class RealmGetRoleCertificatesRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmGetRoleCertificatesRep) -> bool: ...
    def __ne__(self, other: RealmGetRoleCertificatesRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> RealmGetRoleCertificatesRep: ...

class RealmGetRoleCertificatesRepOk(RealmGetRoleCertificatesRep):
    def __init__(self, certificates: List[bytes]) -> None: ...
    @property
    def certificates(self) -> Tuple[bytes]: ...

class RealmGetRoleCertificatesRepNotAllowed(RealmGetRoleCertificatesRep): ...
class RealmGetRoleCertificatesRepNotFound(RepWithReason, RealmGetRoleCertificatesRep): ...
class RealmGetRoleCertificatesRepUnknownStatus(UnknownStatus, RealmGetRoleCertificatesRep): ...

class RealmUpdateRolesReq:
    def __init__(self, role_certificate: bytes, recipient_message: Optional[bytes]) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmUpdateRolesReq) -> bool: ...
    def __ne__(self, other: RealmUpdateRolesReq) -> bool: ...
    @property
    def role_certificate(self) -> bytes: ...
    @property
    def recipient_message(self) -> Optional[bytes]: ...
    def dump(self) -> bytes: ...

class RealmUpdateRolesRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmUpdateRolesRep) -> bool: ...
    def __ne__(self, other: RealmUpdateRolesRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> RealmUpdateRolesRep: ...

class RealmUpdateRolesRepRequireGreaterTimestamp(RealmUpdateRolesRep):
    def __init__(self, strictly_greater_than: DateTime): ...
    @property
    def strictly_greater_than(self) -> DateTime: ...

class RealmUpdateRolesRepBadTimestamp(RepWithReason, RealmUpdateRolesRep):
    def __init__(
        self,
        reason: Optional[str],
        ballpark_client_early_offset: float,
        ballpark_client_late_offset: float,
        backend_timestamp: DateTime,
        client_timestamp: DateTime,
    ) -> None: ...
    @property
    def ballpark_client_early_offset(self) -> float: ...
    @property
    def ballpark_client_late_offset(self) -> float: ...
    @property
    def backend_timestamp(self) -> DateTime: ...
    @property
    def client_timestamp(self) -> DateTime: ...

class RealmUpdateRolesRepOk(RealmUpdateRolesRep): ...
class RealmUpdateRolesRepNotAllowed(RepWithReason, RealmUpdateRolesRep): ...
class RealmUpdateRolesRepInvalidCertification(RepWithReason, RealmUpdateRolesRep): ...
class RealmUpdateRolesRepInvalidData(RepWithReason, RealmUpdateRolesRep): ...
class RealmUpdateRolesRepAlreadyGranted(RealmUpdateRolesRep): ...
class RealmUpdateRolesRepIncompatibleProfile(RepWithReason, RealmUpdateRolesRep): ...
class RealmUpdateRolesRepNotFound(RepWithReason, RealmUpdateRolesRep): ...
class RealmUpdateRolesRepInMaintenance(RealmUpdateRolesRep): ...
class RealmUpdateRolesRepUserRevoked(RealmUpdateRolesRep): ...
class RealmUpdateRolesRepUnknownStatus(UnknownStatus, RealmUpdateRolesRep): ...

class RealmStartReencryptionMaintenanceReq:
    def __init__(
        self,
        realm_id: RealmID,
        encryption_revision: int,
        timestamp: DateTime,
        per_participant_message: dict[UserID, bytes],
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmStartReencryptionMaintenanceReq) -> bool: ...
    def __ne__(self, other: RealmStartReencryptionMaintenanceReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    @property
    def encryption_revision(self) -> int: ...
    @property
    def timestamp(self) -> DateTime: ...
    @property
    def per_participant_message(self) -> dict[UserID, bytes]: ...
    def dump(self) -> bytes: ...

class RealmStartReencryptionMaintenanceRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmStartReencryptionMaintenanceRep) -> bool: ...
    def __ne__(self, other: RealmStartReencryptionMaintenanceRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> RealmStartReencryptionMaintenanceRep: ...

class RealmStartReencryptionMaintenanceRepRequireGreaterTimestamp(RealmUpdateRolesRep):
    def __init__(self, strictly_greater_than: DateTime): ...
    @property
    def strictly_greater_than(self) -> DateTime: ...

class RealmStartReencryptionMaintenanceRepRepBadTimestamp(RepWithReason, RealmUpdateRolesRep):
    def __init__(
        self,
        reason: Optional[str],
        ballpark_client_early_offset: float,
        ballpark_client_late_offset: float,
        backend_timestamp: DateTime,
        client_timestamp: DateTime,
    ) -> None: ...
    @property
    def ballpark_client_early_offset(self) -> float: ...
    @property
    def ballpark_client_late_offset(self) -> float: ...
    @property
    def backend_timestamp(self) -> DateTime: ...
    @property
    def client_timestamp(self) -> DateTime: ...

class RealmStartReencryptionMaintenanceRepOk(RealmStartReencryptionMaintenanceRep): ...
class RealmStartReencryptionMaintenanceRepNotAllowed(RealmStartReencryptionMaintenanceRep): ...
class RealmStartReencryptionMaintenanceRepNotFound(
    RepWithReason, RealmStartReencryptionMaintenanceRep
): ...
class RealmStartReencryptionMaintenanceRepBadEncryptionRevision(
    RealmStartReencryptionMaintenanceRep
): ...
class RealmStartReencryptionMaintenanceRepParticipantMismatch(
    RepWithReason, RealmStartReencryptionMaintenanceRep
): ...
class RealmStartReencryptionMaintenanceRepMaintenanceError(
    RepWithReason, RealmStartReencryptionMaintenanceRep
): ...
class RealmStartReencryptionMaintenanceRepInMaintenance(RealmStartReencryptionMaintenanceRep): ...
class RealmStartReencryptionMaintenanceRepUnknownStatus(
    UnknownStatus, RealmStartReencryptionMaintenanceRep
): ...

class RealmFinishReencryptionMaintenanceReq:
    def __init__(self, realm_id: RealmID, encryption_revision: int) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmFinishReencryptionMaintenanceReq) -> bool: ...
    def __ne__(self, other: RealmFinishReencryptionMaintenanceReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    @property
    def encryption_revision(self) -> int: ...
    def dump(self) -> bytes: ...

class RealmFinishReencryptionMaintenanceRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: RealmFinishReencryptionMaintenanceRep) -> bool: ...
    def __ne__(self, other: RealmFinishReencryptionMaintenanceRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> RealmFinishReencryptionMaintenanceRep: ...

class RealmFinishReencryptionMaintenanceRepOk(RealmFinishReencryptionMaintenanceRep): ...
class RealmFinishReencryptionMaintenanceRepNotAllowed(RealmFinishReencryptionMaintenanceRep): ...
class RealmFinishReencryptionMaintenanceRepNotFound(
    RepWithReason, RealmFinishReencryptionMaintenanceRep
): ...
class RealmFinishReencryptionMaintenanceRepBadEncryptionRevision(
    RealmFinishReencryptionMaintenanceRep
): ...
class RealmFinishReencryptionMaintenanceRepNotInMaintenance(
    RepWithReason, RealmFinishReencryptionMaintenanceRep
): ...
class RealmFinishReencryptionMaintenanceRepMaintenanceError(
    RepWithReason, RealmFinishReencryptionMaintenanceRep
): ...
class RealmFinishReencryptionMaintenanceRepUnknownStatus(
    UnknownStatus, RealmFinishReencryptionMaintenanceRep
): ...

class MaintenanceType:
    def __init__(self, maintenance_type: str) -> None: ...
    def __eq__(self, other: Optional[MaintenanceType]) -> bool: ...
    def __ne__(self, other: Optional[MaintenanceType]) -> bool: ...
    @classmethod
    def GARBAGE_COLLECTION(cls) -> MaintenanceType: ...
    @classmethod
    def REENCRYPTION(cls) -> MaintenanceType: ...

# Ping

class AuthenticatedPingReq:
    def __init__(self, ping: str) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: AuthenticatedPingReq) -> bool: ...
    def __ne__(self, other: AuthenticatedPingReq) -> bool: ...
    @property
    def ping(self) -> str: ...
    def dump(self) -> bytes: ...

class AuthenticatedPingRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: AuthenticatedPingRep) -> bool: ...
    def __ne__(self, other: AuthenticatedPingRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> AuthenticatedPingRep: ...

class AuthenticatedPingRepOk(AuthenticatedPingRep):
    def __init__(self, pong: str) -> None: ...
    @property
    def pong(self) -> str: ...

class AuthenticatedPingRepUnknownStatus(UnknownStatus, AuthenticatedPingRep): ...

class InvitedPingReq:
    def __init__(self, ping: str) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: InvitedPingReq) -> bool: ...
    def __ne__(self, other: InvitedPingReq) -> bool: ...
    @property
    def ping(self) -> str: ...
    def dump(self) -> bytes: ...

class InvitedPingRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: InvitedPingRep) -> bool: ...
    def __ne__(self, other: InvitedPingRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> InvitedPingRep: ...

class InvitedPingRepOk(InvitedPingRep):
    def __init__(self, pong: str) -> None: ...
    @property
    def pong(self) -> str: ...

class InvitedPingRepUnknownStatus(UnknownStatus, InvitedPingRep): ...

# Vlob

class VlobCreateReq:
    def __init__(
        self,
        realm_id: RealmID,
        encryption_revision: int,
        vlob_id: VlobID,
        timestamp: DateTime,
        blob: bytes,
        sequester_blob: Optional[dict[SequesterServiceID, bytes]],
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobCreateReq) -> bool: ...
    def __ne__(self, other: VlobCreateReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    @property
    def encryption_revision(self) -> int: ...
    @property
    def vlob_id(self) -> VlobID: ...
    @property
    def timestamp(self) -> DateTime: ...
    @property
    def blob(self) -> bytes: ...
    @property
    def sequester_blob(self) -> Optional[dict[SequesterServiceID, bytes]]: ...
    def dump(self) -> bytes: ...

class VlobCreateRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobCreateRep) -> bool: ...
    def __ne__(self, other: VlobCreateRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> VlobCreateRep: ...

class VlobCreateRepRequireGreaterTimestamp(VlobCreateRep):
    def __init__(self, strictly_greater_than: DateTime): ...
    @property
    def strictly_greater_than(self) -> DateTime: ...

class VlobCreateRepBadTimestamp(RepWithReason, VlobCreateRep):
    def __init__(
        self,
        reason: Optional[str],
        ballpark_client_early_offset: float,
        ballpark_client_late_offset: float,
        backend_timestamp: DateTime,
        client_timestamp: DateTime,
    ) -> None: ...
    @property
    def ballpark_client_early_offset(self) -> float: ...
    @property
    def ballpark_client_late_offset(self) -> float: ...
    @property
    def backend_timestamp(self) -> DateTime: ...
    @property
    def client_timestamp(self) -> DateTime: ...

class VlobCreateRepSequesterInconsistency(VlobCreateRep):
    def __init__(
        self, sequester_authority_certificate: bytes, sequester_services_certificates: List[bytes]
    ) -> None: ...
    @property
    def sequester_authority_certificate(self) -> bytes: ...
    @property
    def sequester_services_certificates(self) -> Tuple[bytes]: ...

class VlobCreateRepSequesterRejected(VlobCreateRep):
    def __init__(
        self, service_id: SequesterServiceID, service_label: str, service_error: str
    ) -> None: ...
    @property
    def service_id(self) -> SequesterServiceID: ...
    @property
    def service_label(self) -> str: ...
    @property
    def service_error(self) -> str: ...

class VlobCreateRepOk(VlobCreateRep): ...
class VlobCreateRepAlreadyExists(RepWithReason, VlobCreateRep): ...
class VlobCreateRepNotAllowed(VlobCreateRep): ...
class VlobCreateRepBadEncryptionRevision(VlobCreateRep): ...
class VlobCreateRepInMaintenance(VlobCreateRep): ...
class VlobCreateRepNotASequesteredOrganization(VlobCreateRep): ...
class VlobCreateRepUnknownStatus(UnknownStatus, VlobCreateRep): ...

class VlobReadReq:
    def __init__(
        self,
        encryption_revision: int,
        vlob_id: VlobID,
        version: Optional[int],
        timestamp: Optional[DateTime],
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobReadReq) -> bool: ...
    def __ne__(self, other: VlobReadReq) -> bool: ...
    @property
    def encryption_revision(self) -> int: ...
    @property
    def vlob_id(self) -> VlobID: ...
    @property
    def version(self) -> Optional[int]: ...
    @property
    def timestamp(self) -> Optional[DateTime]: ...
    def dump(self) -> bytes: ...

class VlobReadRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobReadRep) -> bool: ...
    def __ne__(self, other: VlobReadRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> VlobReadRep: ...

class VlobReadRepOk(VlobReadRep):
    def __init__(
        self,
        version: int,
        blob: bytes,
        author: DeviceID,
        timestamp: DateTime,
        author_last_role_granted_on: Optional[DateTime],
    ) -> None: ...
    @property
    def version(self) -> int: ...
    @property
    def blob(self) -> bytes: ...
    @property
    def author(self) -> DeviceID: ...
    @property
    def timestamp(self) -> DateTime: ...
    @property
    def author_last_role_granted_on(self) -> Optional[DateTime]: ...

class VlobReadRepNotFound(RepWithReason, VlobReadRep): ...
class VlobReadRepNotAllowed(VlobReadRep): ...
class VlobReadRepBadVersion(VlobReadRep): ...
class VlobReadRepBadEncryptionRevision(VlobReadRep): ...
class VlobReadRepInMaintenance(VlobReadRep): ...
class VlobReadRepUnknownStatus(UnknownStatus, VlobReadRep): ...

class VlobUpdateReq:
    def __init__(
        self,
        encryption_revision: int,
        vlob_id: VlobID,
        timestamp: DateTime,
        version: int,
        blob: bytes,
        sequester_blob: Optional[dict[SequesterServiceID, bytes]],
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobUpdateReq) -> bool: ...
    def __ne__(self, other: VlobUpdateReq) -> bool: ...
    @property
    def encryption_revision(self) -> int: ...
    @property
    def vlob_id(self) -> VlobID: ...
    @property
    def timestamp(self) -> DateTime: ...
    @property
    def version(self) -> int: ...
    @property
    def blob(self) -> bytes: ...
    @property
    def sequester_blob(self) -> Optional[dict[SequesterServiceID, bytes]]: ...
    def dump(self) -> bytes: ...

class VlobUpdateRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobUpdateRep) -> bool: ...
    def __ne__(self, other: VlobUpdateRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> VlobUpdateRep: ...

class VlobUpdateRepRequireGreaterTimestamp(VlobUpdateRep):
    def __init__(self, strictly_greater_than: DateTime): ...
    @property
    def strictly_greater_than(self) -> DateTime: ...

class VlobUpdateRepBadTimestamp(RepWithReason, VlobUpdateRep):
    def __init__(
        self,
        reason: Optional[str],
        ballpark_client_early_offset: float,
        ballpark_client_late_offset: float,
        backend_timestamp: DateTime,
        client_timestamp: DateTime,
    ) -> None: ...
    @property
    def ballpark_client_early_offset(self) -> float: ...
    @property
    def ballpark_client_late_offset(self) -> float: ...
    @property
    def backend_timestamp(self) -> DateTime: ...
    @property
    def client_timestamp(self) -> DateTime: ...

class VlobUpdateRepSequesterInconsistency(VlobUpdateRep):
    def __init__(
        self, sequester_authority_certificate: bytes, sequester_services_certificates: List[bytes]
    ) -> None: ...
    @property
    def sequester_authority_certificate(self) -> bytes: ...
    @property
    def sequester_services_certificates(self) -> Tuple[bytes]: ...

class VlobUpdateRepSequesterRejected(VlobUpdateRep):
    def __init__(
        self, service_id: SequesterServiceID, service_label: str, service_error: str
    ) -> None: ...
    @property
    def service_id(self) -> SequesterServiceID: ...
    @property
    def service_label(self) -> str: ...
    @property
    def service_error(self) -> str: ...

class VlobUpdateRepOk(VlobUpdateRep): ...
class VlobUpdateRepNotFound(RepWithReason, VlobUpdateRep): ...
class VlobUpdateRepNotAllowed(VlobUpdateRep): ...
class VlobUpdateRepBadVersion(VlobUpdateRep): ...
class VlobUpdateRepBadEncryptionRevision(VlobUpdateRep): ...
class VlobUpdateRepInMaintenance(VlobUpdateRep): ...
class VlobUpdateRepNotASequesteredOrganization(VlobUpdateRep): ...
class VlobUpdateRepUnknownStatus(UnknownStatus, VlobUpdateRep): ...

class VlobPollChangesReq:
    def __init__(
        self,
        realm_id: RealmID,
        last_checkpoint: int,
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobPollChangesReq) -> bool: ...
    def __ne__(self, other: VlobPollChangesReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    @property
    def last_checkpoint(self) -> int: ...
    def dump(self) -> bytes: ...

class VlobPollChangesRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobPollChangesRep) -> bool: ...
    def __ne__(self, other: VlobPollChangesRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> VlobPollChangesRep: ...

class VlobPollChangesRepOk(VlobPollChangesRep):
    def __init__(
        self,
        changes: dict[VlobID, int],
        current_checkpoint: int,
    ) -> None: ...
    @property
    def changes(self) -> dict[VlobID, int]: ...
    @property
    def current_checkpoint(self) -> int: ...

class VlobPollChangesRepNotFound(RepWithReason, VlobPollChangesRep): ...
class VlobPollChangesRepNotAllowed(VlobPollChangesRep): ...
class VlobPollChangesRepInMaintenance(VlobPollChangesRep): ...
class VlobPollChangesRepUnknownStatus(UnknownStatus, VlobPollChangesRep): ...

class VlobListVersionsReq:
    def __init__(
        self,
        vlob_id: VlobID,
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobListVersionsReq) -> bool: ...
    def __ne__(self, other: VlobListVersionsReq) -> bool: ...
    @property
    def vlob_id(self) -> VlobID: ...
    def dump(self) -> bytes: ...

class VlobListVersionsRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobListVersionsRep) -> bool: ...
    def __ne__(self, other: VlobListVersionsRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> VlobListVersionsRep: ...

class VlobListVersionsRepOk(VlobListVersionsRep):
    def __init__(
        self,
        versions: dict[int, Tuple[DateTime, DeviceID]],
    ) -> None: ...
    @property
    def versions(self) -> dict[int, Tuple[DateTime, DeviceID]]: ...

class VlobListVersionsRepNotFound(RepWithReason, VlobListVersionsRep): ...
class VlobListVersionsRepNotAllowed(VlobListVersionsRep): ...
class VlobListVersionsRepInMaintenance(VlobListVersionsRep): ...
class VlobListVersionsRepUnknownStatus(UnknownStatus, VlobListVersionsRep): ...

class VlobMaintenanceGetReencryptionBatchReq:
    def __init__(
        self,
        realm_id: RealmID,
        encryption_revision: int,
        size: int,
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobMaintenanceGetReencryptionBatchReq) -> bool: ...
    def __ne__(self, other: VlobMaintenanceGetReencryptionBatchReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    @property
    def encryption_revision(self) -> int: ...
    @property
    def size(self) -> int: ...
    def dump(self) -> bytes: ...

class VlobMaintenanceGetReencryptionBatchRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobMaintenanceGetReencryptionBatchRep) -> bool: ...
    def __ne__(self, other: VlobMaintenanceGetReencryptionBatchRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> VlobMaintenanceGetReencryptionBatchRep: ...

class VlobMaintenanceGetReencryptionBatchRepOk(VlobMaintenanceGetReencryptionBatchRep):
    def __init__(
        self,
        batch: List[ReencryptionBatchEntry],
    ) -> None: ...
    @property
    def batch(self) -> Tuple[ReencryptionBatchEntry]: ...

class VlobMaintenanceGetReencryptionBatchRepNotFound(
    RepWithReason,
    VlobMaintenanceGetReencryptionBatchRep,
): ...
class VlobMaintenanceGetReencryptionBatchRepNotAllowed(VlobMaintenanceGetReencryptionBatchRep): ...
class VlobMaintenanceGetReencryptionBatchRepNotInMaintenance(
    RepWithReason,
    VlobMaintenanceGetReencryptionBatchRep,
): ...
class VlobMaintenanceGetReencryptionBatchRepBadEncryptionRevision(
    VlobMaintenanceGetReencryptionBatchRep
): ...
class VlobMaintenanceGetReencryptionBatchRepMaintenanceError(
    RepWithReason, VlobMaintenanceGetReencryptionBatchRep
): ...
class VlobMaintenanceGetReencryptionBatchRepUnknownStatus(
    UnknownStatus, VlobMaintenanceGetReencryptionBatchRep
): ...

class VlobMaintenanceSaveReencryptionBatchReq:
    def __init__(
        self,
        realm_id: RealmID,
        encryption_revision: int,
        batch: Tuple[ReencryptionBatchEntry],
    ) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobMaintenanceSaveReencryptionBatchReq) -> bool: ...
    def __ne__(self, other: VlobMaintenanceSaveReencryptionBatchReq) -> bool: ...
    @property
    def realm_id(self) -> RealmID: ...
    @property
    def encryption_revision(self) -> int: ...
    @property
    def batch(self) -> Tuple[ReencryptionBatchEntry]: ...
    def dump(self) -> bytes: ...

class VlobMaintenanceSaveReencryptionBatchRep:
    def __init__(self) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: VlobMaintenanceSaveReencryptionBatchRep) -> bool: ...
    def __ne__(self, other: VlobMaintenanceSaveReencryptionBatchRep) -> bool: ...
    def dump(self) -> bytes: ...
    def load(buf: bytes) -> VlobMaintenanceSaveReencryptionBatchRep: ...

class VlobMaintenanceSaveReencryptionBatchRepOk(VlobMaintenanceSaveReencryptionBatchRep):
    def __init__(
        self,
        total: int,
        done: int,
    ) -> None: ...
    @property
    def total(self) -> int: ...
    @property
    def done(self) -> int: ...

class VlobMaintenanceSaveReencryptionBatchRepNotFound(
    RepWithReason,
    VlobMaintenanceSaveReencryptionBatchRep,
): ...
class VlobMaintenanceSaveReencryptionBatchRepNotAllowed(
    VlobMaintenanceSaveReencryptionBatchRep
): ...
class VlobMaintenanceSaveReencryptionBatchRepNotInMaintenance(
    RepWithReason,
    VlobMaintenanceSaveReencryptionBatchRep,
): ...
class VlobMaintenanceSaveReencryptionBatchRepBadEncryptionRevision(
    VlobMaintenanceSaveReencryptionBatchRep
): ...
class VlobMaintenanceSaveReencryptionBatchRepMaintenanceError(
    RepWithReason,
    VlobMaintenanceSaveReencryptionBatchRep,
): ...
class VlobMaintenanceSaveReencryptionBatchRepUnknownStatus(
    UnknownStatus, VlobMaintenanceSaveReencryptionBatchRep
): ...

class ReencryptionBatchEntry:
    def __init__(self, vlob_id: VlobID, version: int, blob: bytes) -> None: ...
    def __repr__(self) -> str: ...
    def __eq__(self, other: ReencryptionBatchEntry) -> bool: ...
    def __ne__(self, other: ReencryptionBatchEntry) -> bool: ...
    @property
    def vlob_id(self) -> VlobID: ...
    @property
    def version(self) -> int: ...
    @property
    def blob(self) -> bytes: ...
