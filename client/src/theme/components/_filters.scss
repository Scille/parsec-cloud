/* Parsec Cloud (https://parsec.cloud) Copyright (c) BUSL-1.1 2016-present Scille SAS */

// must be at the top of the file
// at the moment, we are forced to put this in every scss file, since vite is not adding preprocessors additionalData to files imported by @use & @forward
@use 'megashark-lib/theme' as ms;

#select-filter-popover-button {
  position: relative;
  --background: transparent;
  --color: var(--parsec-color-light-secondary-hard-grey);
  --color-hover: var(--parsec-color-light-secondary-text);
  --background-hover: none;
  border-radius: var(--parsec-radius-8);

  &::part(native) {
    padding: 0.375rem 0.625rem;
    overflow: visible;
  }

  &:hover {
    background: var(--parsec-color-light-secondary-medium);
  }

  .filter-button__icon {
    color: var(--parsec-color-light-secondary-hard-grey);
    margin-right: 0.5rem;
    font-size: 1rem;
  }

  &:hover .filter-button__icon {
    color: var(--parsec-color-light-secondary-text);
  }

  &:has(.missing-filters) {
    border-color: var(--parsec-color-light-primary-500);
    color: var(--parsec-color-light-primary-500);

    .filter-button__icon {
      color: var(--parsec-color-light-primary-500);
    }
  }
}

.missing-filters::after {
  content: '';
  position: absolute;
  right: -13px;
  top: -8px;
  width: 0.625rem;
  height: 0.625rem;
  background: var(--parsec-color-light-primary-500);
  border-radius: var(--parsec-radius-8);
}

// --------- Small display style --------- //
.mobile-filters {
  display: flex;
  gap: 1rem;
  margin: 0.75rem 0 0;
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  flex-direction: row-reverse;
  height: auto;

  @include ms.responsive-breakpoint('sm') {
    flex-wrap: wrap;
    flex-direction: row;
    padding-bottom: 0;
    margin: 0;
  }

  &-buttons {
    display: flex;
    gap: 0.5rem;

    @include ms.responsive-breakpoint('sm') {
      padding: 0.5rem 0.5rem;
      width: 100%;
      justify-content: flex-end;
      border-bottom: 1px solid var(--parsec-color-light-secondary-medium);
    }

    &__filter:has(.missing-filters) {
      border: 1px solid var(--parsec-color-light-primary-500);
      color: var(--parsec-color-light-primary-500);

      .filter-button__icon {
        color: var(--parsec-color-light-primary-500);
      }
    }
  }

  &__search {
    margin: 0 1rem;
    flex-grow: 1;
    border-color: var(--parsec-color-light-secondary-medium) !important;
    padding: 0 0 0 1rem !important;
    background: var(--parsec-color-light-secondary-background);
    height: 2.5rem;

    @include ms.responsive-breakpoint('xs') {
      width: 100%;
      justify-content: flex-end;
      max-width: 100% !important;
      border-bottom: 1px solid var(--parsec-color-light-secondary-medium);
    }

    input::placeholder {
      color: var(--parsec-color-light-secondary-hard-grey) !important;
    }
  }
}
