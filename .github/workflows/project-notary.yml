# Add new issue & pull request to a project.
name: project-notary

on:
  workflow_dispatch:

env:
  project-number: 2
  project-orga: scille

jobs:
  add-issue-to-project:
    runs-on: ubuntu-22.04
    steps:
      - name: Debug tool version
        run: |
          set -x
          gh --version
          jq --version
          base64 --version

      - name: List issues with the wrong/missing project
        run: >
          gh issue list
          --json id,title,number
          --search '-project:"${{ env.project-orga }}/${{ env.project-number }}"'
          --jq '.[] | base64'
          > issues_wrong_project.json.b64
