codeql-workflow: &codeql-workflow .github/workflows/codeql.yml

setup-python-action: &setup-python-action .github/actions/setup-python-poetry/**

python: &python
  - parsec/**
  - tests/**
  - build.py
  - make.py

python-dependencies-project: &python-dependencies-project
  - poetry.lock
  - pyproject.toml

# The python analyze job need to be run when:
# - We modify python code
# - We update our python dependencies
# - The codeql workflow is changed
python-analyze:
  - *codeql-workflow
  - *setup-python-action
  - *python
  - *python-dependencies-project

rust-android-binding: &rust-android-binding oxidation/bindings/android/**

android: &android oxidation/client/android/**

java-analyze:
  - *codeql-workflow
  - *rust-android-binding
  - *android

electron: &electron
  - oxidation/client/electron/**

web: &web
  - oxidation/client/src/**
  - oxidation/client/tests/**

ionic-dependencies-project: &ionic-dependencies-project
  - oxidation/client/*.js
  - oxidation/client/*.ts
  - oxidation/client/*.json

js-analyze:
  - *codeql-workflow
  - *electron
  - *web
  - *ionic-dependencies-project
